<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:hhSlider="http://typo3.org/ns/HauerHeinrich/HhSlider/ViewHelpers"
    data-namespace-typo3-fluid="true">

<f:if condition="{items -> f:count()} > 1">
    <f:render section="json" arguments="{_all}" />
</f:if>

<f:section name="json">
    <f:comment>thumbnail position important - before default slider configuration!</f:comment>
    <f:if condition="{data.tx_hhslider_thumbnails}">
        <f:asset.script identifier="hhSliderJson-thumbs-{data.uid}" class="hhSliderJson" type="application/json">
            {
                "uid": "-thumb-<f:comment></f:comment>{data.uid}",
                "slidesPerView": {items -> f:count()},
                "freeMode": true,
                "watchSlidesProgress": true
            }
        </f:asset.script>
    </f:if>

    <f:asset.script identifier="hhSliderJson-{data.uid}" class="hhSliderJson" type="application/json">
        {
            <f:comment></f:comment>"uid": "{data.uid}",
            "a11y": {
                "containerMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.containerMessage')}",
                "containerRole": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.containerRole')}",
                "containerRoleDescriptionMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.containerRoleDescriptionMessage')}",
                "firstSlideMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.firstSlideMessage')}",
                "itemRoleDescriptionMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.itemRoleDescriptionMessage')}",
                "lastSlideMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.lastSlideMessage')}",
                "nextSlideMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.nextSlideMessage')}",
                "paginationBulletMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.paginationBulletMessage')}",
                "prevSlideMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.prevSlideMessage')}",
                "slideLabelMessage": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.slideLabelMessage')}",
                "slideRole": "<f:comment></f:comment>{f:translate(key: 'fe.slider.a11y.slideRole')}"
            },
            "autoHeight": false,
            "autoplay": <f:if condition="{data.tx_hhslider_autoplay}"><f:then>{ "delay": <f:format.raw>{data.tx_hhslider_autoplay_speed}</f:format.raw>, "disableOnInteraction": {f:if(condition: "{data.tx_hhslider_disable_on_interaction}", then: "true", else: "false")} }</f:then><f:else>false</f:else></f:if>,
            "centeredSlides": {f:if(condition: "{data.tx_hhslider_centered_slides}", then: "true", else: "false")},
            "effect": "<f:format.raw>{data.tx_hhslider_animation}</f:format.raw>",
            "direction": "{data.tx_hhslider_animation_direction}",
            "loop": {f:if(condition: "{data.tx_hhslider_loop}", then: "true", else: "false")},
            "speed": <f:format.raw>{data.tx_hhslider_animation_speed}</f:format.raw>,
            "slidesPerView": {data.tx_hhslider_slides_per_view},
            "slidesPerGroup": {data.tx_hhslider_slideby},
            "initialSlide": 0,
            "keyboard": {
                "enabled": true,
                "onlyInViewport": true
            },
            "navigation": {
                "nextEl": "<f:comment></f:comment>#c{data.uid} .slider-button-next",
                "prevEl": "<f:comment></f:comment>#c{data.uid} .slider-button-prev"
            },
            "pagination": {
                "el": <f:comment></f:comment>"#c{data.uid} .slider-pagination",
                "clickable": true
            },
            <f:if condition="{data.tx_hhslider_thumbnails}">
                "thumbs": {
                    "uid": "<f:comment></f:comment>-thumb-<f:comment></f:comment>{data.uid}"
                },
            </f:if>

            "slideToClickedSlide": {f:if(condition: '{data.tx_hhslider_slide_to_clicked_slide}', then: 'true', else: 'false')},
            "breakpoints": <f:if condition="{data.tx_hhslider_responsive_part}"><f:then><f:format.raw>{data.tx_hhslider_responsive_part}</f:format.raw></f:then><f:else>""</f:else></f:if>,

            "autoplayButton": {f:if(condition: '{data.tx_hhslider_startstop}', then: '"#slider-button-startstop-{data.uid}"', else: 'false')}
        }
    </f:asset.script>
</f:section>

</html>
